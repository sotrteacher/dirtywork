# 1 "main.c"
# 1 "<built-in>"
# 1 "<command-line>"
# 1 "main.c"
# 60 "main.c"
# 1 "../include/qp_port.h" 1
# 54 "../include/qp_port.h"
# 1 "../port/qf_port.h" 1
# 55 "../port/qf_port.h"
# 1 "../port/qep_port.h" 1
# 37 "../port/qep_port.h"
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/stdint.h" 1
# 42 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/stdint.h"
typedef signed char int8_t;
typedef short int int16_t;
typedef int int32_t;



__extension__
typedef long long int int64_t;




typedef unsigned char uint8_t;
typedef unsigned short int uint16_t;

typedef unsigned int uint32_t;





__extension__
typedef unsigned long long int uint64_t;






typedef signed char int_least8_t;
typedef short int int_least16_t;
typedef int int_least32_t;



__extension__
typedef long long int int_least64_t;



typedef unsigned char uint_least8_t;
typedef unsigned short int uint_least16_t;
typedef unsigned int uint_least32_t;



__extension__
typedef unsigned long long int uint_least64_t;






typedef signed char int_fast8_t;





typedef int int_fast16_t;
typedef int int_fast32_t;
__extension__
typedef long long int int_fast64_t;



typedef unsigned char uint_fast8_t;





typedef unsigned int uint_fast16_t;
typedef unsigned int uint_fast32_t;
__extension__
typedef unsigned long long int uint_fast64_t;
# 131 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/stdint.h"
typedef int intptr_t;


typedef unsigned int uintptr_t;
# 143 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/stdint.h"
__extension__
typedef long long int intmax_t;
__extension__
typedef unsigned long long int uintmax_t;
# 38 "../port/qep_port.h" 2
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/stdbool.h" 1
# 39 "../port/qep_port.h" 2

# 1 "../include/qep.h" 1
# 86 "../include/qep.h"
    typedef uint16_t QSignal;
# 143 "../include/qep.h"
typedef char char_t;


typedef int int_t;


typedef int enum_t;
# 158 "../include/qep.h"
typedef float float32_t;
# 167 "../include/qep.h"
typedef double float64_t;
# 184 "../include/qep.h"
typedef struct {
    QSignal sig;
    uint8_t poolId_;
    uint8_t volatile refCtr_;
} QEvt;
# 239 "../include/qep.h"
typedef uint_fast8_t QState;


typedef QState (*QStateHandler)(void * const me, QEvt const * const e);


typedef QState (*QActionHandler)(void * const me);
# 279 "../include/qep.h"
typedef struct QMState {
    struct QMState const *superstate;
    QStateHandler const stateHandler;
    QActionHandler const entryAction;
    QActionHandler const exitAction;
    QActionHandler const initAction;
} QMState;


typedef struct QMTranActTable {
    QMState const *target;
    QActionHandler const act[1];
} QMTranActTable;







union QMAttr {
    QMState const *obj;
    QMTranActTable const *tatbl;
    QStateHandler fun;
    QActionHandler act;
};




typedef struct QMsmVtbl QMsmVtbl;
# 335 "../include/qep.h"
typedef struct {
    QMsmVtbl const *vptr;
    union QMAttr state;
    union QMAttr temp;
} QMsm;


struct QMsmVtbl {

    void (*init)(QMsm * const me, QEvt const * const e);


    void (*dispatch)(QMsm * const me, QEvt const * const e);
};


void QMsm_ctor(QMsm * const me, QStateHandler initial);
# 372 "../include/qep.h"
void QMsm_init_(QMsm * const me, QEvt const * const e);
# 388 "../include/qep.h"
void QMsm_dispatch_(QMsm * const me, QEvt const * const e);


QState QMsm_execTatbl_(QMsm * const me, QMTranActTable const *tatbl);




_Bool QMsm_isInState(QMsm * const me, QMState const *state);
# 417 "../include/qep.h"
typedef QMsm QHsm;




void QHsm_ctor(QHsm * const me, QStateHandler initial);
# 434 "../include/qep.h"
void QHsm_init_(QHsm * const me, QEvt const * const e);



void QHsm_dispatch_(QHsm * const me, QEvt const * const e);




_Bool QHsm_isIn(QHsm * const me, QStateHandler const state);




QState QHsm_top(void const * const me, QEvt const * const e);
# 469 "../include/qep.h"
typedef QMsm QFsm;


void QFsm_ctor(QFsm * const me, QStateHandler initial);


void QFsm_init_(QFsm * const me, QEvt const * const e);


void QFsm_dispatch_(QFsm * const me, QEvt const * const e);
# 496 "../include/qep.h"
enum {

    Q_RET_SUPER,
    Q_RET_SUPER_SUB,
    Q_RET_UNHANDLED,


    Q_RET_HANDLED,
    Q_RET_IGNORED,


    Q_RET_ENTRY,
    Q_RET_EXIT,


    Q_RET_NULL,


    Q_RET_TRAN,
    Q_RET_TRAN_INIT,
    Q_RET_TRAN_HIST,
    Q_RET_TRAN_EP,
    Q_RET_TRAN_XP
};
# 644 "../include/qep.h"
enum {
    Q_ENTRY_SIG = 1,
    Q_EXIT_SIG,
    Q_INIT_SIG,
    Q_USER_SIG
};
# 41 "../port/qep_port.h" 2
# 56 "../port/qf_port.h" 2
# 1 "../include/qvanilla.h" 1
# 44 "../include/qvanilla.h"
# 1 "../include/qequeue.h" 1
# 81 "../include/qequeue.h"
    typedef uint_fast32_t QEQueueCtr;
# 131 "../include/qequeue.h"
typedef struct QEQueue {
# 144 "../include/qequeue.h"
    QEvt const * volatile frontEvt;


    QEvt const **ring;



    QEQueueCtr end;


    QEQueueCtr volatile head;


    QEQueueCtr volatile tail;


    QEQueueCtr volatile nFree;
# 169 "../include/qequeue.h"
    QEQueueCtr nMin;
} QEQueue;




void QEQueue_init(QEQueue * const me,
                  QEvt const *qSto[], uint_fast16_t const qLen);


_Bool QEQueue_post(QEQueue * const me, QEvt const * const e,
                  uint_fast16_t const margin);


void QEQueue_postLIFO(QEQueue * const me, QEvt const * const e);


QEvt const *QEQueue_get(QEQueue * const me);
# 45 "../include/qvanilla.h" 2
# 1 "../include/qmpool.h" 1
# 63 "../include/qmpool.h"
    typedef uint16_t QMPoolSize;
# 88 "../include/qmpool.h"
    typedef uint16_t QMPoolCtr;
# 112 "../include/qmpool.h"
typedef struct {

    void * volatile free_head;


    void *start;


    void *end;


    QMPoolSize blockSize;


    QMPoolCtr nTot;


    QMPoolCtr volatile nFree;
# 138 "../include/qmpool.h"
    QMPoolCtr nMin;
} QMPool;




void QMPool_init(QMPool * const me, void * const poolSto,
                 uint_fast16_t poolSize, uint_fast16_t blockSize);


void *QMPool_get(QMPool * const me, uint_fast16_t const margin);


void QMPool_put(QMPool * const me, void *b);
# 46 "../include/qvanilla.h" 2
# 1 "../include/qpset.h" 1
# 54 "../include/qpset.h"
typedef struct {
    uint_fast8_t volatile bits;
} QPSet8;
# 95 "../include/qpset.h"
typedef struct {
# 110 "../include/qpset.h"
    uint_fast8_t volatile bytes;
# 122 "../include/qpset.h"
    uint_fast8_t volatile bits[8];
} QPSet64;
# 47 "../include/qvanilla.h" 2
# 77 "../include/qvanilla.h"
void QF_onIdle(void);
# 57 "../port/qf_port.h" 2
# 1 "../include/qf.h" 1
# 62 "../include/qf.h"
    typedef uint16_t QEvtSize;
# 87 "../include/qf.h"
struct QEQueue;
# 110 "../include/qf.h"
typedef struct {
    QHsm super;
# 125 "../include/qf.h"
    QEQueue eQueue;
# 152 "../include/qf.h"
    uint_fast8_t prio;

} QActive;


typedef struct {
    QMsmVtbl super;



    void (*start)(QActive * const me, uint_fast8_t prio,
                  QEvt const *qSto[], uint_fast16_t qLen,
                  void *stkSto, uint_fast16_t stkSize,
                  QEvt const *ie);







    _Bool (*post)(QActive * const me, QEvt const * const e,
                 uint_fast16_t const margin);




    void (*postLIFO)(QActive * const me, QEvt const * const e);

} QActiveVtbl;



void QActive_start_(QActive * const me, uint_fast8_t prio,
                    QEvt const *qSto[], uint_fast16_t qLen,
                    void *stkSto, uint_fast16_t stkSize,
                    QEvt const *ie);
# 282 "../include/qf.h"
    _Bool QActive_post_(QActive * const me, QEvt const * const e,
                         uint_fast16_t const margin);
# 296 "../include/qf.h"
void QActive_postLIFO_(QActive * const me, QEvt const * const e);
# 312 "../include/qf.h"
void QActive_ctor(QActive * const me, QStateHandler initial);



void QActive_stop(QActive * const me);


void QActive_subscribe(QActive const * const me, enum_t const sig);


void QActive_unsubscribe(QActive const * const me, enum_t const sig);


void QActive_unsubscribeAll(QActive const * const me);



_Bool QActive_defer(QActive * const me,
                   QEQueue * const eq, QEvt const * const e);


_Bool QActive_recall(QActive * const me, QEQueue * const eq);


QEvt const *QActive_get_(QActive *const me);
# 349 "../include/qf.h"
typedef QActive QMActive;


void QMActive_ctor(QMActive * const me, QStateHandler initial);
# 369 "../include/qf.h"
    typedef uint16_t QTimeEvtCtr;
# 410 "../include/qf.h"
typedef struct QTimeEvt {

    QEvt super;


    struct QTimeEvt * volatile next;


    void * volatile act;
# 427 "../include/qf.h"
    QTimeEvtCtr volatile ctr;
# 436 "../include/qf.h"
    QTimeEvtCtr interval;
} QTimeEvt;




void QTimeEvt_ctorX(QTimeEvt * const me, QActive * const act,
                    enum_t const sig, uint_fast8_t tickRate);


void QTimeEvt_armX(QTimeEvt * const me,
                   QTimeEvtCtr const nTicks, QTimeEvtCtr const interval);


_Bool QTimeEvt_rearm(QTimeEvt * const me, QTimeEvtCtr const nTicks);


_Bool QTimeEvt_disarm(QTimeEvt * const me);


QTimeEvtCtr QTimeEvt_ctr(QTimeEvt const * const me);
# 470 "../include/qf.h"
typedef struct {
# 483 "../include/qf.h"
    uint8_t bits[((63 - 1) / 8) + 1];
} QSubscrList;




void QF_init(void);


void QF_psInit(QSubscrList * const subscrSto, enum_t const maxSignal);


void QF_poolInit(void * const poolSto, uint_fast16_t const poolSize,
                 uint_fast16_t const evtSize);


int_t QF_run(void);
int_t QF_run_event_loop(void);



void QF_stop(void);
# 513 "../include/qf.h"
void QF_onStartup(void);
# 529 "../include/qf.h"
void QF_onCleanup(void);
# 563 "../include/qf.h"
    void QF_publish_(QEvt const * const e);
# 601 "../include/qf.h"
    void QF_tickX_(uint_fast8_t const tickRate);
# 610 "../include/qf.h"
_Bool QF_noTimeEvtsActiveX(uint_fast8_t const tickRate);


void QF_add_(QActive * const a);


void QF_remove_(QActive const * const a);


uint_fast16_t QF_getPoolMin(uint_fast8_t const poolId);



uint_fast16_t QF_getQueueMin(uint_fast8_t const prio);


QEvt *QF_newX_(uint_fast16_t const evtSize,
               uint_fast16_t const margin, enum_t const sig);
# 676 "../include/qf.h"
void QF_gc(QEvt const * const e);


void QF_bzero(void * const start, uint_fast16_t len);
# 703 "../include/qf.h"
extern uint8_t const QF_pwr2Lkup[65];






extern uint8_t const QF_invPwr2Lkup[65];





extern uint8_t const QF_div8Lkup[65];
# 739 "../include/qf.h"
    extern uint8_t const QF_log2Lkup[256];
# 748 "../include/qf.h"
extern QActive *QF_active_[63 + 1];
# 58 "../port/qf_port.h" 2
# 55 "../include/qp_port.h" 2
# 1 "../include/qassert.h" 1
# 231 "../include/qassert.h"
void Q_onAssert(char_t const * const file, int_t line);
# 56 "../include/qp_port.h" 2




# 1 "../include/qs_dummy.h" 1
# 61 "../include/qp_port.h" 2
# 150 "../include/qp_port.h"
typedef QEvt QEvent;
# 61 "main.c" 2
# 1 "bsp.h" 1
# 51 "bsp.h"
void BSP_init(int argc, char *argv[]);
void BSP_drawBitmap(uint8_t const *bitmap,
                    uint8_t width,
                    uint8_t height);
void BSP_drawNString(uint8_t x,
                     uint8_t y,
                     char const *str);
void BSP_updateScore(uint16_t score);

void BSP_displayOn(void);
void BSP_displayOff(void);
void BSP_display(uint8_t);
void BSP_display1(uint8_t,uint8_t);
void BSP_display2(uint8_t);
void BSP_display3(uint8_t);
void BSP_display4(uint8_t);
void BSP_display5(uint8_t);
void BSP_boom(void);
void BSP_unboom(void);


# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/vga.h" 1
# 12 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/vga.h"
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/types.h" 1
# 43 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/types.h"
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/marte_types.h" 1
# 14 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/marte_types.h"
typedef struct { char b[344]; } marte_TCB_t;
typedef struct { char b[136]; } marte_pthread_attr_t;
typedef struct { char b[140]; } marte_pthread_mutex_t;
typedef struct { char b[88]; } marte_pthread_mutexattr_t;
typedef struct { char b[440]; } marte_pthread_cond_t;
typedef struct { char b[4]; } marte_pthread_condattr_t;
typedef struct { char b[64]; } marte_sigset_t;
typedef struct { char b[424]; } marte_sem_t;
typedef struct { char b[288]; } marte_posix_appsched_actions_t;
typedef struct { char b[4]; } marte_pthread_key_t;
typedef struct { char b[4]; } marte_posix_appsched_eventset_t;
typedef struct { char b[146]; } marte_pthread_once_t;

typedef struct { char b[92]; } _marte_timed_handler_t;
typedef struct { char b[4]; } _marte_thread_set_t;
# 44 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/types.h" 2
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/marte_configuration_parameters.h" 1
# 45 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/types.h" 2


typedef long ptrdiff_t;


typedef int clockid_t;

typedef int clock_t;


typedef unsigned long long dev_t;




typedef unsigned int gid_t;




typedef unsigned int ino_t;




typedef unsigned int mode_t;




typedef unsigned int nlink_t;




typedef int off_t;




typedef int pid_t;




typedef unsigned int size_t;





typedef signed int ssize_t;





typedef int time_t;

typedef int *timer_t;

typedef long suseconds_t;


typedef unsigned int uid_t;




typedef unsigned long useconds_t;
# 127 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/types.h"
typedef marte_TCB_t *pthread_t;

typedef marte_pthread_attr_t pthread_attr_t;


typedef marte_pthread_mutex_t pthread_mutex_t;

typedef marte_pthread_mutexattr_t pthread_mutexattr_t;


typedef marte_pthread_cond_t pthread_cond_t;

typedef marte_pthread_condattr_t pthread_condattr_t;


typedef marte_sem_t sem_t;


typedef marte_pthread_key_t pthread_key_t;


typedef marte_pthread_once_t pthread_once_t;


typedef _marte_timed_handler_t marte_timed_handler_t;


typedef _marte_thread_set_t marte_thread_set_t;
# 13 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/vga.h" 2
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/time.h" 1
# 44 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/time.h"
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/cpp_macros.h" 1
# 45 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/time.h" 2

# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/marte_general_constants.h" 1
# 47 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/time.h" 2


struct timeval {
  time_t tv_sec;
  suseconds_t tv_usec;
};


struct itimerval{
  struct timeval it_interval;
  struct timeval it_value;
};
# 68 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/time.h"
int getitimer(int, struct itimerval *value);
int setitimer(int, const struct itimerval * value,
                struct itimerval * ovalue);

int gettimeofday(struct timeval *, void *);

# 14 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/vga.h" 2
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/glib.h" 1
# 57 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/glib.h"
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/tipos.h" 1




typedef void *LIN_ADDR;
typedef uint8_t BYTE;
typedef uint16_t WORD;
typedef uint32_t DWORD;
typedef uint64_t QWORD;
# 25 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/tipos.h"
typedef struct{
  unsigned int x;
  unsigned int y;
}point_t;


typedef struct{
  unsigned int n_points;
  point_t points[0];
}array_points_t;


typedef struct{
  unsigned int high;
  unsigned int width;
  char * buffer;
}slice_t;
# 58 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/glib.h" 2


int grx_setbuffer(BYTE *vbuf,BYTE bpp, WORD w, WORD h);

void grx_pixel(WORD x, WORD y, DWORD color);
DWORD grx_getpixel(WORD x, WORD y);


void grx_rectangle(WORD x1, WORD y1, WORD x2, WORD y2, DWORD color);
void grx_rectangle_fill(WORD x1, WORD y1, WORD x2, WORD y2, DWORD color);
void grx_line(WORD x1, WORD y1, WORD x2, WORD y2, DWORD color);
void grx_text(char *text, WORD x, WORD y, DWORD fg, DWORD bg);
void grx_circle(WORD sx, WORD sy, WORD r, DWORD c);
void grx_circumference(WORD sx, WORD sy, WORD r, DWORD c);
void grx_clear(DWORD color);
# 15 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/vga.h" 2
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/tipos.h" 1
# 16 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/vga.h" 2
# 224 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/vga.h"
extern int vga_version;
extern int __svgalib_chipset;
extern int __svgalib_vendor;
extern int __svgalib_cur_palette;


extern unsigned short int rgb15(int r,int g,int b);
extern unsigned short int rgb16(int r,int g,int b);
extern unsigned int rgb24(int r,int g,int b);
extern unsigned int rgb32(int r,int g,int b);
extern unsigned int rgba(int r,int g,int b);
extern unsigned short int conversor_32_a_16(unsigned int rgb);
extern unsigned short int conversor_24_a_16(unsigned int rgb);
extern unsigned short int conversor_32_a_15(unsigned int rgb);
extern unsigned short int conversor_24_a_15(unsigned int rgb);






extern int init_vga_with_associated_mem(int mode,int vendor,int card);
extern int init_vga(int mode,int vendor,int card);

extern int vga_setmode(int mode);



extern int vga_clear(void);


extern int vga_getxdim(void);
extern int vga_getydim(void);
extern int vga_getcolors(void);

extern int vga_setpalette(int index, int red, int green, int blue);
extern int vga_getpalette(int index, int *red, int *green, int *blue);
extern int vga_setpalvec(int start, int num, int *pal);
extern int vga_getpalvec(int start, int num, int *pal);

extern int vga_screenoff(void);
extern int vga_screenon(void);

extern int vga_setcolor(int color);
extern int vga_drawpixel(int x, int y);
extern int vga_drawline(int x1, int y1, int x2, int y2);

extern int vga_drawscanline(int line, unsigned char *colors);
extern int vga_drawscansegment(unsigned char *colors, int x, int y, int length);
extern int vga_getpixel(int x, int y);
extern int vga_getscansegment(unsigned char *colors, int x, int y, int length);


extern int vga_cpyblock(int width,int height,void *block);
extern void draw_image_2(int height, int width, unsigned int *imageptr);

extern point_t conv_to_point(unsigned int x, unsigned int y);
extern void vga_pixel(point_t point, unsigned int color);

extern void vga_line(point_t point1, point_t point2, unsigned int color);
extern void vga_rectangle(point_t point1, point_t point2, unsigned int color);
extern void vga_rectangle_fill(point_t point1, point_t point2, unsigned int color);
extern void vga_circumference(point_t centre, unsigned int radio, unsigned int color);
extern void vga_circle(point_t centre, unsigned int radio, unsigned int color);
extern void vga_text(char *text, point_t point, DWORD fg, DWORD bg);


extern void vga_ellipse(point_t point1, point_t point2, unsigned int color);

extern void vga_ellipse_fill(point_t point1, point_t point2, unsigned int color);

extern void vga_polygon(point_t * points, unsigned int n_points, unsigned int color);

extern void vga_polyline(point_t * points, unsigned int n_points, unsigned int color);
extern int vga_scroll_ver(point_t point1, point_t point2, int lines);
extern int vga_scroll_hor(point_t point1, point_t point2, int lines);
# 330 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/vga.h"
typedef struct {
        int width;
        int height;
        int bytesperpixel;
        int colors;
        int linewidth;
        int maxlogicalwidth;
        int startaddressrange;
        int maxpixels;
        int haveblit;
        int flags;



        int chiptype;
        int memory;
        int linewidth_unit;

        char *linear_aperture;
        int aperture_size;
        void (*set_aperture_page) (int page);

        void *extensions;

    } vga_modeinfo;

typedef struct {
        int version;
        int size;
        int chipset;
        int physmem;
    } vga_cardinfo;

extern vga_cardinfo *vga_getcardinfo(void);
extern vga_modeinfo *vga_getmodeinfo(int mode);

extern int vga_getcurrentmode(void);



    extern int vga_lastmodenumber(void);




extern void restoregray_palette(void);

extern void restorepalette_default(void);

extern void full_blue_screen(void);

extern unsigned char *graph_mem;


extern unsigned char *buf_rgb;

extern unsigned char *vga_getgraphmem(void);

extern void vga_setpage(int p);




extern void vga_waitretrace(void);
extern int vga_claimvideomemory(int n);







    extern void vga_lockvc(void);
    extern void vga_unlockvc(void);
# 412 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/vga.h"
extern int vga_setlinearaddressing(void);
# 473 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/vga.h"
extern void vga_gettextfont(void *font);
extern void vga_puttextfont(void *font);



extern int vga_white(void);
# 488 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/vga.h"
    extern int vga_accel(unsigned operation,...);



    extern void vga_setcursorposition(int, int);
    extern void vga_selectcursor(int);
    extern void vga_setcursorimage(int, int, int, int, unsigned char *);

inline void copy_videomem_32to16(void *src, void *dst, unsigned long int memdiv2);
inline void copy_videomem_16to16(void *src, void *dst, unsigned long int memdiv4);


extern void copy_rect_videomem_16to16(void *src, void *dst, unsigned long int x1,unsigned long int y1,unsigned long int x2,unsigned long int y2);
extern void copy_rect_videomem_32to16(void *src, void *dst, unsigned long int x1,unsigned long int y1,unsigned long int x2,unsigned long int y2);


extern void refresh_screen(void);
extern void refresh_screen_16(void);

extern void refresh_slice_16(unsigned long int x1,unsigned long int y1,unsigned long int x2,unsigned long int y2);
# 523 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/vga.h"
extern int vga_changetiming(int pixelClock,
                              int HDisplay,
                              int HSyncStart,
                              int HSyncEnd,
                              int HTotal,
                              int VDisplay,
                              int VSyncStart,
                              int VSyncEnd,
                              int VTotal,
                              int flags);

extern int vga_getcurrenttiming(int *pixelClock,
                              int *HDisplay,
                              int *HSyncStart,
                              int *HSyncEnd,
                              int *HTotal,
                              int *VDisplay,
                              int *VSyncStart,
                              int *VSyncEnd,
                              int *VTotal,
                              int *flags);




extern int vga_guesstiming(int x, int y, int clue, int arg);
# 652 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/drivers/svga/vga.h"
int SEQ01;
unsigned char CR11,CR38,CR39,CR40;
# 73 "bsp.h" 2
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/assert.h" 1
# 74 "bsp.h" 2
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/time.h" 1
# 48 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/time.h"


struct timespec {
  time_t tv_sec;
  int tv_nsec;
};

struct itimerspec {
  struct timespec it_interval;
  struct timespec it_value;
};
# 67 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/time.h"
int clock_settime (clockid_t clock_id, const struct timespec *tp);
int clock_gettime (clockid_t clock_id, struct timespec *tp);
int clock_getres (clockid_t clock_id, struct timespec *res);

# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/signal.h" 1
# 48 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/signal.h"
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sys/marte_signals.h" 1
# 49 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/signal.h" 2






typedef marte_sigset_t sigset_t;





union sigval
{
  int sival_int;
  void *sival_ptr;
};






typedef struct
{
  int si_signo;
  int si_code;
  union sigval si_value;
} siginfo_t;
# 87 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/signal.h"
struct sigaction {
  union {
    void (*sa_u_handler) (int);
    void (*sa_u_sigaction) (int, siginfo_t *, void *);
  } sa_u;
  sigset_t sa_mask;
  int sa_flags;
};
# 106 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/signal.h"
struct sigevent {
  int sigev_notify;
  int sigev_signo;
  union sigval sigev_value;
};
# 120 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/signal.h"
int kill(int pid, int sig);

int sigemptyset(sigset_t *set);
int sigfillset(sigset_t *set);
int sigaddset(sigset_t *set, int signo);
int sigdelset(sigset_t *set, int signo);
int sigismember(const sigset_t *set, int signo);

int sigaction(int sig, const struct sigaction *act,
              struct sigaction *oact);

int pthread_sigmask(int how, const sigset_t *set, sigset_t *oset);
int sigprocmask(int how, const sigset_t *set, sigset_t *oset);

int sigpending(sigset_t *set);
int sigsuspend(const sigset_t *mask);

int sigwait(const sigset_t *set, int *sig);
int sigwaitinfo(const sigset_t *set, siginfo_t *info);
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/time.h" 1
# 140 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/signal.h" 2



int sigqueue(int pid, int signo, const union sigval value);

int pthread_kill(pthread_t thread, int sig);







int raise(int sig);


# 72 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/time.h" 2
int timer_create (clockid_t clock_id, struct sigevent *evp, timer_t *timerid);
int timer_delete (timer_t timerid);

int timer_settime (timer_t timerid, int flags,
                   const struct itimerspec *value, struct itimerspec *ovalue);
int timer_gettime (timer_t timerid, struct itimerspec *value);
int timer_getoverrun (timer_t timerid);

int nanosleep (const struct timespec *rqtp, struct timespec *rmtp);
int clock_nanosleep (clockid_t clock_id, int flags,
                     const struct timespec *rqtp, struct timespec *rmtp);

struct tm {
        int tm_sec;
        int tm_min;
        int tm_hour;
        int tm_mday;
        int tm_mon;
        int tm_year;
        int tm_wday;
        int tm_yday;
        int tm_isdst;
};

time_t time (time_t *tloc);

char *asctime (const struct tm *tm);
char *ctime (const time_t *timep);
struct tm *gmtime (const time_t *clock);
struct tm *localtime (const time_t *clock);
time_t mktime (struct tm *timeptr);


clock_t clock(void);
double difftime(time_t time1, time_t time0);
size_t strftime(char *s, size_t max, const char *format,
                const struct tm *tm);



# 75 "bsp.h" 2
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/misc/timespec_operations.h" 1
# 47 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/misc/timespec_operations.h"
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/stdio.h" 1
# 45 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/stdio.h"
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/stdarg.h" 1
# 74 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/stdarg.h"
typedef char * va_list;
# 46 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/stdio.h" 2








typedef int FILE;


extern FILE * stdin;
extern FILE * stdout;
extern FILE * stderr;







int putchar(int __c);
int puts(const char *__str);
int printf(const char *__format, ...);
int vprintf(const char *__format, va_list __vl);
int sprintf(char *__dest, const char *__format, ...);
int snprintf(char *__dest, int __size, const char *__format, ...);
int vsprintf(char *__dest, const char *__format, va_list __vl);
int vsnprintf(char *__dest, int __size, const char *__format, va_list __vl);
int scanf(const char *__format, ...);
int sscanf(const char *__str, const char *__format, ...);
int getchar(void);
int ungetc(int c, FILE *stream);
char *gets(char *__str);
char *fgets(char *__str, int __size, FILE *__stream);
int fileno(FILE *stream);
FILE *fopen(const char *__path, const char *__mode);

FILE *freopen(const char *path, const char *mode, FILE *stream);
int fflush(FILE *stream);
int fclose(FILE *__stream);
int fread(void *__buf, size_t __size, size_t __count, FILE *__stream);
int fwrite(void *__buf, size_t __size, size_t __count, FILE *__stream);
int fputc(int __c, FILE *__stream);
int fputs(const char *str, FILE *stream);
int fgetc(FILE *__stream);
int fprintf(FILE *__stream, const char *__format, ...);

int fscanf(FILE *__stream, const char *__format, ...);
int fseek(FILE *__stream, long __offset, int __whence);
long ftell(FILE *__stream);



void dohexdump(void *__base, void *__buf, int __len, int __bytes);


void perror(const char *__string);
# 117 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/stdio.h"
int printe(const char *__format, ...);
int vprinte(const char *fmt, va_list args);
int printc(const char *__format, ...);


# 48 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/misc/timespec_operations.h" 2


static inline int smaller_timespec (const struct timespec *t1,
                                    const struct timespec *t2)
{
        return t1->tv_sec < t2->tv_sec ||
               (t1->tv_sec == t2->tv_sec && t1->tv_nsec < t2->tv_nsec);
}

static inline int smaller_or_equal_timespec (const struct timespec *t1,
                                             const struct timespec *t2)
{
        return t1->tv_sec < t2->tv_sec || (t1->tv_sec == t2->tv_sec &&
                        t1->tv_nsec <= t2->tv_nsec);
}

static inline void incr_timespec (struct timespec *t1, const struct timespec *t2)
{
        t1->tv_sec += t2->tv_sec;
        t1->tv_nsec += t2->tv_nsec;
        if (t1->tv_nsec >= 1000000000) {
                t1->tv_sec ++;
                t1->tv_nsec -= 1000000000;
        }
}

static inline void decr_timespec (struct timespec *t1, const struct timespec *t2)
{
        if (t1->tv_nsec < t2->tv_nsec) {
                t1->tv_sec -= t2->tv_sec + 1;
                t1->tv_nsec = t1->tv_nsec + 1000000000 - t2->tv_nsec;
        } else {
                t1->tv_sec -= t2->tv_sec;
                t1->tv_nsec -= t2->tv_nsec;
        }
}

static inline void add_timespec (struct timespec *s,
                                  const struct timespec *t1,
                                  const struct timespec*t2)
{
        s->tv_sec = t1->tv_sec + t2->tv_sec;
        s->tv_nsec = t1->tv_nsec + t2->tv_nsec;
        if (s->tv_nsec >= 1000000000) {
                s->tv_sec ++;
                s->tv_nsec -= 1000000000;
        }
}

static inline void div_timespec (struct timespec *s,
                                 const struct timespec *dividend,
                                 const struct timespec *divisor)
{
        long long ldividend = dividend->tv_sec*1000000000 + dividend->tv_nsec;
        long long ldivisor = divisor->tv_sec*1000000000 + divisor->tv_nsec;
        long long result;

        result = ldividend / ldivisor;

        s->tv_sec = result / 1000000000;
        s->tv_nsec = result % 1000000000;
}

static inline void mult_timespec (struct timespec *s,
                                  const struct timespec *t1,
                                  const struct timespec *t2)
{
        long long lt1 = t1->tv_sec*1000000000 + t1->tv_nsec;
        long long lt2 = t2->tv_sec*1000000000 + t2->tv_nsec;
        long long result;

        result = lt1 / lt2;

        s->tv_sec = result / 1000000000;
        s->tv_nsec = result % 1000000000;
}

typedef long long unsigned nanosecs_t;
char str_timespec_s[40];
static inline char * show_timespec_s (struct timespec *ts)
{
        nanosecs_t ns = (nanosecs_t)(ts->tv_sec) * 1000000000 + ts->tv_nsec;
        nanosecs_t s = ns / 1000000000;
        nanosecs_t ms = ns % 1000000000;
        nanosecs_t us = ns % 1000000;
        ns = ns % 1000;
        sprintf (str_timespec_s, "%3lus%3lums%3luus%3luns", (unsigned long)s,
                 (unsigned long)(ms / 1000000), (unsigned long)(us / 1000),
                 (unsigned long)ns);
        return str_timespec_s;
}





static inline double timespec_to_double(const struct timespec *time)
{
        return time->tv_nsec*0.000000001 + (double)time->tv_sec;
}





static inline void double_to_timespec(double time, struct timespec *ts)
{
        ts->tv_sec = (long) time;
        ts->tv_nsec = (long)((time - (double)ts->tv_sec) * 1000000000);
}
# 76 "bsp.h" 2
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/misc/console_management.h" 1
# 89 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/misc/console_management.h"
extern void console_management_init();





void clrscr();





void set_text_background_color (unsigned char bkc);


void set_text_color (unsigned char c);


void set_highvideo ();


void set_lowvideo ();


void set_blink ();


void cancel_blink ();


void activate_scroll ();


void deactivate_scroll ();





struct position {
  int row;
  int column;
};

void set_cursor(struct position * to);





void get_cursor(struct position * to);




void set_cooked_mode ();







void set_raw_mode ();



void enable_echo ();


void disable_echo ();


void set_blocking_mode ();



void reset_blocking_mode ();
# 77 "bsp.h" 2
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/string.h" 1
# 63 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/string.h"







size_t strlen(const char *__s);
char *strcpy(char *__dest, const char *__src);
char *strncpy(char *__dest, const char *__src, size_t __n);
char *strdup(const char *__s);
char *strcat(char *__dest, const char *__src);
char *strncat(char *__dest, const char *__src, size_t __n);
int strcmp(const char *__a, const char *__b);
int strncmp(const char *__a, const char *__b, size_t __n);

char *strchr(const char *__s, int __c);
char *strrchr(const char *__s, int __c);
char *strstr(const char *__haystack, const char *__needle);
char *strtok(char *__s, const char *__delim);
char *strtok_r(char *__s, const char *__delim, char **__last);
char *strpbrk(const char *__s1, const char *__s2);
size_t strspn(const char *__s1, const char *__s2);
size_t strcspn(const char *__s1, const char *__s2);






void *memmove(void *__to, const void *__from, unsigned int __n);
void *memset(void *__to, int __ch, unsigned int __n);






void * memchr(const void *b, int c, size_t len);

char *strerror(int __errno);

int strcasecmp(const char *s1, const char *s2);
int strncasecmp(const char *s1, const char *s2, size_t n);


# 78 "bsp.h" 2






_Bool keyboard_support(void);
void timer_event(void);


void initPalette(void);
# 62 "main.c" 2
# 1 "game.h" 1
# 38 "game.h"
enum GameSignals {
    TIME_TICK_SIG = Q_USER_SIG,
    PLAYER_TRIGGER_SIG,
    PLAYER_QUIT_SIG,
    GAME_OVER_SIG,


    UP_SIG,
    DOWN_SIG,
    ARM_SIG,
    MAX_PUB_SIG,

    PLAYER_SHIP_MOVE_SIG,


    BLINK_TIMEOUT_SIG,
    SCREEN_TIMEOUT_SIG,

    TAKE_OFF_SIG,
    HIT_WALL_SIG,
    HIT_MINE_SIG,
    SHIP_IMG_SIG,
    MISSILE_IMG_SIG,
    MINE_IMG_SIG,
    MISSILE_FIRE_SIG,
    DESTROYED_MINE_SIG,
    EXPLOSION_SIG,
    MINE_PLANT_SIG,
    MINE_DISABLED_SIG,
    MINE_RECYCLE_SIG,
    SCORE_SIG,


    MAX_SIG
};

typedef struct ObjectPosEvtTag {
    QEvt super;
    uint8_t x;
    uint8_t y;
} ObjectPosEvt;

typedef struct ObjectImageEvtTag {
    QEvt super;
    uint8_t x;
    int8_t y;
    uint8_t bmp;
} ObjectImageEvt;

typedef struct MineEvtTag {
    QEvt super;
    uint8_t id;
} MineEvt;

typedef struct ScoreEvtTag {
    QEvt super;
    uint16_t score;
} ScoreEvt;

typedef struct TickEvtTag {
  QEvent super;
  uint8_t fine_time;
} TickEvt;

typedef struct BombEvtTag {
  QEvent super;
  uint8_t dummy_attr;
} BombEvt;
# 117 "game.h"
enum GameBitmapIds {
    PRESS_BUTTON_BMP,
    SHIP_BMP,
    MISSILE_BMP,
    MINE1_BMP,
    MINE2_BMP,
    MINE2_MISSILE_BMP,
    EXPLOSION0_BMP,
    EXPLOSION1_BMP,
    EXPLOSION2_BMP,
    EXPLOSION3_BMP,
    MAX_BMP
};


void Tunnel_ctor (void);
void Ship_ctor (void);
void Missile_ctor(void);
void ActObj_ctor (void);


extern QActive * const AO_Tunnel;
extern QActive * const AO_Ship;
extern QActive * const AO_Missile;
extern QActive * const AO_ActObj;

uint8_t do_bitmaps_overlap(uint8_t bmp_id1, uint8_t x1, uint8_t y1,
                           uint8_t bmp_id2, uint8_t x2, uint8_t y2);


QHsm *Mine1_ctor(uint8_t id);
QHsm *Mine2_ctor(uint8_t id);
QFsm *Bomb4_ctor(uint8_t,uint8_t);
# 63 "main.c" 2


# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/stdlib.h" 1
# 47 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/stdlib.h"







long atol(const char *__str);
long strtol(const char *__p, char **__out_p, int __base);
unsigned long strtoul(const char *__p, char **__out_p, int __base);
double strtod (const char *nptr, char **endptr);
double atof (const char *nptr);

int rand(void);
void srand(unsigned __seed);


void *malloc(size_t size);
void *calloc(size_t nelt, size_t eltsize);
void *realloc(void *buf, size_t new_size);
void free(void *buf);

void abort(void);
void exit(int __status);


long int labs(long int j);
long long int llabs(long long int j);

char *getenv(const char *name);





# 66 "main.c" 2
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/pthread.h" 1
# 50 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/pthread.h"
# 1 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sched.h" 1
# 53 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sched.h"



struct sched_param {

  int sched_priority;


  int sched_ss_low_priority;
  struct timespec sched_ss_repl_period;
  struct timespec sched_ss_init_budget;
  int sched_ss_max_repl;
};
# 77 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sched.h"
int sched_yield (void);
int sched_get_priority_max (int policy);
int sched_get_priority_min (int policy);
int sched_rr_get_interval (pid_t pid, struct timespec * interval);
# 89 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sched.h"
typedef uint64_t posix_appsched_urgency_t;

typedef marte_posix_appsched_actions_t posix_appsched_actions_t;





typedef struct {

  void (*init) (void * sched_data);

  void (*new_thread) (void * sched_data, pthread_t thread,
                      posix_appsched_actions_t * actions);

  void (*thread_ready) (void * sched_data, pthread_t thread,
                        posix_appsched_actions_t * actions);

  void (*explicit_call) (void * sched_data, pthread_t thread,
                         int user_event_code,
                         posix_appsched_actions_t * actions);

  void (*notification_for_thread) (void * sched_data, pthread_t thread,
                                   posix_appsched_actions_t * actions);

  void (*timeout) (void * sched_data, posix_appsched_actions_t * actions);

  void (*signal) (void * sched_data, siginfo_t siginfo,
                  posix_appsched_actions_t * actions);

} posix_appsched_scheduler_ops_t;



typedef void *posix_appsched_scheduler_id_t;

int posix_appsched_scheduler_create(posix_appsched_scheduler_ops_t * sched_ops,
                                    void * sched_data,
                                    int priority,
                                    posix_appsched_scheduler_id_t * sched_id);



int posix_appsched_actions_addaccept(posix_appsched_actions_t *sched_actions,
                                     pthread_t thread);

int posix_appsched_actions_addreject(posix_appsched_actions_t *sched_actions,
                                     pthread_t thread);

int posix_appsched_actions_addactivate(posix_appsched_actions_t *sched_actions,
                                       pthread_t thread);

int posix_appsched_actions_addactivateurg
   (posix_appsched_actions_t *sched_actions,
    pthread_t thread,
    posix_appsched_urgency_t urg);

int posix_appsched_actions_addsuspend(posix_appsched_actions_t *sched_actions,
                                      pthread_t thread);

int posix_appsched_actions_addtimedactivation
   (posix_appsched_actions_t *sched_actions,
    pthread_t thread,
    posix_appsched_urgency_t urg,
    const struct timespec *at_time);

int posix_appsched_actions_addthreadnotification
   (posix_appsched_actions_t *sched_actions,
    pthread_t thread,
    const struct timespec *at_time);





int posix_appsched_invoke_scheduler (int user_event_code);
int posix_appsched_invoke_withdata (const void * msg, size_t msg_size,
                                    void *reply, size_t *reply_size);
# 284 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/sched.h"

# 51 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/pthread.h" 2


# 64 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/pthread.h"
int pthread_mutexattr_init (pthread_mutexattr_t *attr);
int pthread_mutexattr_destroy (pthread_mutexattr_t *attr);
# 84 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/pthread.h"
int pthread_mutex_init (pthread_mutex_t *m,
                        const pthread_mutexattr_t *attr);
int pthread_mutex_destroy (pthread_mutex_t *m);
int pthread_mutex_lock (pthread_mutex_t *m);
int pthread_mutex_trylock (pthread_mutex_t *m);
int pthread_mutex_unlock (pthread_mutex_t *m);
int pthread_mutex_timedlock (pthread_mutex_t *m,
                             const struct timespec *abs_timeout);



int pthread_mutexattr_setprotocol (pthread_mutexattr_t *attr,
                                       int protocol);
int pthread_mutexattr_getprotocol (const pthread_mutexattr_t *attr,
                                       int *protocol);
int pthread_mutexattr_setprioceiling (pthread_mutexattr_t *attr,
                                          int prioceiling);
int pthread_mutexattr_getprioceiling (const pthread_mutexattr_t *attr,
                                          int *prioceiling);
int pthread_mutexattr_settype(pthread_mutexattr_t *attr, int type);
int pthread_mutexattr_gettype(const pthread_mutexattr_t *attr, int *type);

int pthread_mutex_getprioceiling(const pthread_mutex_t *mutex,
                                 int *prioceiling);
int pthread_mutex_setprioceiling(pthread_mutex_t *mutex,
                                 int prioceiling, int *old_ceiling);



int pthread_mutexattr_setappscheduler (pthread_mutexattr_t *attr,
                                       pthread_t appscheduler);
int pthread_mutexattr_getappscheduler (const pthread_mutexattr_t *attr,
                                       pthread_t *appscheduler);

int pthread_mutexattr_setappschedparam (
         pthread_mutexattr_t *attr,
         const void *param,
         size_t param_size);
int pthread_mutexattr_getappschedparam (
         const pthread_mutexattr_t *attr,
         void *param,
         size_t *param_size);
int pthread_mutexattr_setpreemptionlevel (pthread_mutexattr_t *attr,
                                          unsigned short int level);
int pthread_mutexattr_getpreemptionlevel (pthread_mutexattr_t *attr,
                                          unsigned short int *level);

int pthread_mutex_getappscheduler (const pthread_mutex_t *mutex,
                                   pthread_t *scheduler);

int pthread_mutex_setappschedparam (
         pthread_mutex_t *mutex,
         const void *param,
         size_t param_size);
int pthread_mutex_getappschedparam (
         const pthread_mutex_t *mutex,
         void *param,
         size_t *param_size);

int posix_appsched_mutex_setspecific (pthread_mutex_t *mutex,
                                      const void *data);
int posix_appsched_mutex_getspecific (const pthread_mutex_t *mutex,
                                      void **data);







int pthread_condattr_init (pthread_condattr_t *attr);
int pthread_condattr_destroy (pthread_condattr_t *attr);

int pthread_cond_init (pthread_cond_t *c,
                                   const pthread_condattr_t *attr);
int pthread_cond_destroy (pthread_cond_t *c);
extern const pthread_cond_t PTHREAD_COND_INITIALIZER;

int pthread_cond_signal (pthread_cond_t *c);
int pthread_cond_broadcast (pthread_cond_t *c);

int pthread_cond_wait (pthread_cond_t *c, pthread_mutex_t *m);
int pthread_cond_timedwait (pthread_cond_t *c, pthread_mutex_t *m,
                                        const struct timespec *abstime);
# 182 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/pthread.h"
int pthread_attr_init (pthread_attr_t *attr);
int pthread_attr_destroy (pthread_attr_t *attr);
int pthread_attr_setstacksize(pthread_attr_t *attr,
                                          size_t stacksize);
int pthread_attr_getstacksize(const pthread_attr_t *attr,
                                          size_t *stacksize);
int pthread_attr_setstackaddr(pthread_attr_t *attr,
                                          void * stackaddr);
int pthread_attr_getstackaddr(pthread_attr_t *attr,
                                          void ** stackaddr);
int pthread_attr_setdetachstate(pthread_attr_t *attr,
                                            int detachstate);
int pthread_attr_getdetachstate(const pthread_attr_t *attr,
                                            int *detachstate);
int pthread_create (pthread_t *thread, const pthread_attr_t *attr,
                                void *(*start_routine)(void *), void *arg);
void pthread_exit (void *value_ptr);
pthread_t pthread_self (void);
int pthread_join (pthread_t thread, void **value_ptr);
int pthread_detach (pthread_t thread);
int pthread_equal (pthread_t t1, pthread_t t2);
int pthread_once(pthread_once_t *once_control,
                             void (*init_routine)(void));


int pthread_cancel(pthread_t thread);

enum {
        PTHREAD_MUTEX_TIMED_NP,
        PTHREAD_MUTEX_RECURSIVE_NP,
        PTHREAD_MUTEX_ERRORCHECK_NP,
        PTHREAD_MUTEX_ADAPTIVE_NP,
        PTHREAD_MUTEX_NORMAL = PTHREAD_MUTEX_TIMED_NP,
        PTHREAD_MUTEX_RECURSIVE = PTHREAD_MUTEX_RECURSIVE_NP,
        PTHREAD_MUTEX_ERRORCHECK = PTHREAD_MUTEX_ERRORCHECK_NP,
        PTHREAD_MUTEX_DEFAULT = PTHREAD_MUTEX_NORMAL
};





int pthread_attr_setinheritsched (pthread_attr_t *attr,
                                              int inheritsched);
int pthread_attr_getinheritsched (const pthread_attr_t *attr,
                                              int *inheritsched);
int pthread_attr_setschedpolicy (pthread_attr_t *attr, int policy);
int pthread_attr_getschedpolicy (const pthread_attr_t *attr,
                                             int * policy);
int pthread_attr_setschedparam (pthread_attr_t *attr,
                                            const struct sched_param *param);
int pthread_attr_getschedparam (const pthread_attr_t *attr,
                                            struct sched_param *param);

int pthread_setschedparam (pthread_t thread, int policy,
                                       const struct sched_param *param);
int pthread_getschedparam (pthread_t thread, int *policy,
                                       struct sched_param *param);
int pthread_setschedprio (pthread_t thread, int prio);
# 253 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/pthread.h"
int pthread_attr_setreldeadline(pthread_attr_t *attr,
                                const struct timespec *reldeadline);
int pthread_attr_getreldeadline(const pthread_attr_t *attr,
                                struct timespec *reldeadline);




int pthread_attr_setpreemptionlevel(pthread_attr_t *attr,
                                    unsigned short int preemptionlevel);
int pthread_attr_getpreemptionlevel(const pthread_attr_t *attr,
                                    unsigned short int *preemptionlevel);





int pthread_setdeadline(pthread_t thread,
                        const struct timespec *deadline,
                        clockid_t clock_id,
                        int immediate);
int pthread_getdeadline(pthread_t thread,
                        clockid_t clock_id,
                        struct timespec *deadline);
# 300 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/pthread.h"
int pthread_setpreemptionlevel(pthread_t thread,
                               short int preemptionlevel);
int pthread_getpreemptionlevel(pthread_t thread,
                               short int *preemptionlevel);
# 316 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/pthread.h"
int pthread_key_create (pthread_key_t *key, void (*destructor) (void *));
int pthread_setspecific (pthread_key_t key, const void *value);
void * pthread_getspecific (pthread_key_t key);
int pthread_key_delete (pthread_key_t key);
int pthread_setspecific_for (pthread_key_t key, pthread_t thread,
                                const void *value);
int pthread_getspecific_from (pthread_key_t key, pthread_t thread,
                                 void **value);


int pthread_getcpuclockid (pthread_t thread_id, clockid_t *clock_id);
# 336 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/pthread.h"
int pthread_attr_setappscheduler(pthread_attr_t *attr,
                                 posix_appsched_scheduler_id_t scheduler);
int pthread_attr_getappscheduler(const pthread_attr_t *attr,
                                 posix_appsched_scheduler_id_t *scheduler);



int pthread_attr_setappschedparam(pthread_attr_t *attr,
                                  const void *param,
                                  size_t paramsize);
int pthread_attr_getappschedparam(const pthread_attr_t *attr,
                                  void *param,
                                  size_t *paramsize);



int pthread_setappschedparam (pthread_t thread,
                              const void *param,
                              size_t paramsize);
int pthread_getappschedparam (pthread_t thread,
                              void *param,
                              size_t *paramsize);
# 394 "/home/usuario1/04_Sand_box_for_MaRTE_OS/marte_2.0_22Feb2017/arch/include/pthread.h"
int pthread_getsrpsystemceiling (int *prio, unsigned short int *pl);


# 67 "main.c" 2


extern int screenWidth,screenHeight;
extern unsigned char *backBuffer;

volatile int thread_signal;
static pthread_t event_thread, kernel_thread;

void print_exit_screen(void);







static QEvt const * l_actobjQueueSto[5 + 5];


static union SmallEvents {
    void *e0;
    uint8_t e1[sizeof(QEvt)];

} l_smlPoolSto[10];

static union MediumEvents {
    void *e0;
    uint8_t e1[sizeof(ObjectPosEvt)];
    uint8_t e2[sizeof(ObjectImageEvt)];
    uint8_t e3[sizeof(MineEvt)];
    uint8_t e4[sizeof(ScoreEvt)];

} l_medPoolSto[2*5 + 8];

static QSubscrList l_subscrSto[MAX_PUB_SIG];


void *kernel_thread_handler(void *status) {
    double kernel_interval;
    struct timespec kernel_ts;
    int *thread_status = (int *) status;




    kernel_interval = 0.1e-3;
    double_to_timespec(kernel_interval, &kernel_ts);

    for (;;) {
        if (*thread_status == 1)
            break;


        QF_run_event_loop();


        nanosleep(&kernel_ts, 0);
    }
    return 0;
}

void *event_thread_handler(void *status) {
    double event_interval;
    struct timespec event_ts;
    int *thread_status = (int *) status;

    event_interval = 1.0 / 10;
    double_to_timespec(event_interval, &event_ts);

    for (;;) {

        if (*thread_status == 1)
            break;



        if (!keyboard_support())
            break;




        timer_event();






        nanosleep(&event_ts, 0);
    }



    return 0;
}
# 176 "main.c"
int main(int argc, char *argv[]) {




    reset_blocking_mode();
    set_raw_mode();
# 212 "main.c"
    ActObj_ctor();



    QF_init();


    QF_poolInit(l_smlPoolSto, sizeof(l_smlPoolSto), sizeof(l_smlPoolSto[0]));
    QF_poolInit(l_medPoolSto, sizeof(l_medPoolSto), sizeof(l_medPoolSto[0]));

    QF_psInit(l_subscrSto, (sizeof(l_subscrSto) / sizeof((l_subscrSto)[0])));


    ((void)0);
    ((void)0);


    ((void)0);
    ((void)0);
    ((void)0);
    ((void)0);
# 256 "main.c"
    QActive_start_(AO_ActObj,
                  3,
                  l_actobjQueueSto, (sizeof(l_actobjQueueSto) / sizeof((l_actobjQueueSto)[0])),
                  (void *)0, 0,
                  (QEvt *)0);


    BSP_init(argc, argv);



    pthread_create(&kernel_thread, 0, kernel_thread_handler, (void *)&thread_signal);

    pthread_create(&event_thread, 0, event_thread_handler, (void *)&thread_signal);






    pthread_join(kernel_thread, 0);

    pthread_join(event_thread, 0);



    return 0;
}
